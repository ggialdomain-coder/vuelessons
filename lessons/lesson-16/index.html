<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Lesson 16: State Management</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            max-width: 900px;
            margin: 0 auto;
            padding: 20px;
            line-height: 1.6;
        }
        .theory {
            background: #f4f4f4;
            padding: 20px;
            border-radius: 5px;
            margin-bottom: 20px;
        }
        .practice {
            background: #e8f5e9;
            padding: 20px;
            border-radius: 5px;
            margin-bottom: 20px;
        }
        .exercise {
            background: #fff3e0;
            padding: 20px;
            border-radius: 5px;
            margin-bottom: 20px;
        }
        code {
            background: #f0f0f0;
            padding: 2px 6px;
            border-radius: 3px;
        }
        pre {
            background: #f0f0f0;
            color: #333;
            padding: 15px;
            border-radius: 5px;
            overflow-x: auto;
            border: 1px solid #ddd;
        }
        .demo-box {
            border: 2px solid #42b983;
            padding: 15px;
            margin: 10px 0;
            border-radius: 5px;
        }
        .link-box {
            background: #e3f2fd;
            padding: 15px;
            border-radius: 5px;
            margin: 10px 0;
        }
        .link-box a {
            color: #1976d2;
            text-decoration: none;
            font-weight: bold;
        }
        .link-box a:hover {
            text-decoration: underline;
        }
        button {
            background: #42b983;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 5px;
            cursor: pointer;
            margin: 5px;
        }
        button:hover {
            background: #35a372;
        }
        .component-box {
            border: 1px solid #ddd;
            padding: 15px;
            margin: 10px 0;
            border-radius: 5px;
            background: white;
        }
    </style>
</head>
<body>
    <h1>üìö Lesson 16: State Management</h1>
    
    <div class="link-box">
        <p><strong>üìñ Tutorial:</strong> <a href="state-management-tutorial.html">Step-by-step State Management Tutorial</a></p>
        <p><strong>‚úèÔ∏è Exercise:</strong> <a href="state-management-exercise.html">Build a Shopping Cart with Shared State</a></p>
    </div>
    
    <div class="theory">
        <h2>üéì Theory: State Management</h2>
        
        <h3>What is State Management?</h3>
        <p>State management is a way to share data between multiple components without passing props through many levels (prop drilling).</p>
        
        <h3>The Problem:</h3>
        <p>Imagine you have user data that needs to be accessed by Header, Sidebar, Profile, and Settings components. Passing props through all components is messy!</p>
        
        <h3>Solution: Shared State</h3>
        <p>Create a central store that any component can access and modify.</p>
        
        <h3>Simple State Store Pattern:</h3>
        <pre><code>// Create a reactive store
const store = {
    state: Vue.reactive({
        user: null,
        cart: [],
        theme: 'light'
    }),
    
    // Methods to update state
    setUser(user) {
        this.state.user = user;
    },
    
    addToCart(item) {
        this.state.cart.push(item);
    }
};

// Use in components
const app = createApp({
    data() {
        return {
            store: store.state  // Access store state
        }
    },
    methods: {
        login() {
            store.setUser({ name: 'John' });
        }
    }
});</code></pre>
        
        <h3>Key Concepts:</h3>
        <ul>
            <li><strong>Centralized State:</strong> All shared data in one place</li>
            <li><strong>Reactive:</strong> Changes automatically update all components</li>
            <li><strong>Mutations:</strong> Methods to safely update state</li>
            <li><strong>Access:</strong> Any component can read/write to store</li>
        </ul>
        
        <h3>When to Use State Management:</h3>
        <ul>
            <li>‚úÖ Data needed by multiple unrelated components</li>
            <li>‚úÖ User authentication state</li>
            <li>‚úÖ Shopping cart</li>
            <li>‚úÖ Theme/settings</li>
            <li>‚úÖ Complex app-wide data</li>
            <li>‚ùå Simple parent-child data (use props)</li>
        </ul>
        
        <h3>Pinia (Advanced):</h3>
        <p>For larger apps, Pinia is Vue 3's official state management library. It provides better organization, devtools support, and TypeScript support.</p>
    </div>

    <div class="practice">
        <h2>üíª Practice: Shared State Store</h2>
        
        <div id="app">
            <div class="demo-box">
                <h3>Shared User Store Demo</h3>
                <p><strong>Current User:</strong> {{ store.user ? store.user.name : 'Not logged in' }}</p>
                <button @click="login">Login as John</button>
                <button @click="logout">Logout</button>
            </div>
            
            <div class="component-box">
                <h4>Component A</h4>
                <p>User: {{ store.user ? store.user.name : 'None' }}</p>
            </div>
            
            <div class="component-box">
                <h4>Component B</h4>
                <p>User: {{ store.user ? store.user.name : 'None' }}</p>
                <button @click="changeUser">Change to Jane</button>
            </div>
            
            <div class="demo-box">
                <h3>Shopping Cart Store</h3>
                <p><strong>Cart Items:</strong> {{ store.cart.length }}</p>
                <button @click="addItem">Add Item</button>
                <button @click="clearCart">Clear Cart</button>
                <ul>
                    <li v-for="item in store.cart" :key="item.id">
                        {{ item.name }} - ${{ item.price }}
                    </li>
                </ul>
            </div>
        </div>
    </div>

    <div class="exercise">
        <h2>‚úèÔ∏è Exercise</h2>
        <p><strong>Task:</strong> Create a shopping cart with shared state:</p>
        <ol>
            <li>Create a store with cart state (items array)</li>
            <li>Add methods: addItem(), removeItem(), clearCart()</li>
            <li>Create ProductList component that adds items to cart</li>
            <li>Create CartDisplay component that shows cart items</li>
            <li>Both components should use the same store</li>
            <li>When you add an item in ProductList, it should appear in CartDisplay</li>
        </ol>
        <p><strong>Hint:</strong> Use Vue.reactive() to make the store reactive, and access it from both components!</p>
    </div>

    <script src="https://unpkg.com/vue@3/dist/vue.global.js"></script>
    
    <script>
        const { createApp, reactive } = Vue;
        
        // Create a simple store
        const store = {
            state: reactive({
                user: null,
                cart: []
            }),
            
            setUser(user) {
                this.state.user = user;
            },
            
            logout() {
                this.state.user = null;
            },
            
            addToCart(item) {
                this.state.cart.push(item);
            },
            
            clearCart() {
                this.state.cart = [];
            }
        };
        
        const app = createApp({
            data() {
                return {
                    store: store.state
                }
            },
            methods: {
                login() {
                    store.setUser({ name: 'John', email: 'john@example.com' });
                },
                logout() {
                    store.logout();
                },
                changeUser() {
                    store.setUser({ name: 'Jane', email: 'jane@example.com' });
                },
                addItem() {
                    const items = ['Apple', 'Banana', 'Orange', 'Grapes'];
                    const randomItem = items[Math.floor(Math.random() * items.length)];
                    store.addToCart({
                        id: Date.now(),
                        name: randomItem,
                        price: Math.floor(Math.random() * 10) + 1
                    });
                },
                clearCart() {
                    store.clearCart();
                }
            }
        });
        
        app.mount('#app');
    </script>
</body>
</html>











