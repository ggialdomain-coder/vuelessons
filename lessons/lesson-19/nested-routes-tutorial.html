<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Nested Routes Tutorial - Step by Step</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            max-width: 1000px;
            margin: 0 auto;
            padding: 20px;
            line-height: 1.6;
            background: #f6f9fc;
        }
        .step {
            background: white;
            padding: 25px;
            border-radius: 8px;
            margin: 20px 0;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        }
        .step h2 {
            color: #42b983;
            border-bottom: 2px solid #42b983;
            padding-bottom: 10px;
        }
        .explanation {
            background: #e8f5e9;
            padding: 15px;
            border-radius: 5px;
            margin: 15px 0;
            border-left: 4px solid #42b983;
        }
        .code-block {
            background: #f0f0f0;
            color: #333;
            padding: 15px;
            border-radius: 5px;
            overflow-x: auto;
            margin: 15px 0;
            white-space: pre-wrap;
            font-family: 'Courier New', Courier, monospace;
            line-height: 1.6;
            word-wrap: break-word;
            border: 1px solid #ddd;
        }
        .code-explanation {
            background: #fff3cd;
            padding: 10px;
            border-radius: 5px;
            margin: 10px 0;
            border-left: 3px solid #ffc107;
            font-size: 0.9em;
        }
        .demo-app {
            background: #fff;
            padding: 30px;
            border-radius: 10px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.15);
            margin: 20px 0;
        }
        .tip {
            background: #fff3cd;
            padding: 15px;
            border-radius: 5px;
            border-left: 4px solid #ffc107;
            margin: 15px 0;
        }
        .warning {
            background: #f8d7da;
            padding: 15px;
            border-radius: 5px;
            border-left: 4px solid #dc3545;
            margin: 15px 0;
        }
        nav {
            background: #42b983;
            padding: 15px;
            border-radius: 5px;
            margin: 10px 0;
        }
        nav a {
            color: white;
            text-decoration: none;
            margin: 0 15px;
            padding: 8px 15px;
            border-radius: 3px;
        }
        nav a:hover, nav a.router-link-active {
            background: rgba(255,255,255,0.2);
        }
        .nested-nav {
            background: #e8f5e9;
            padding: 10px;
            border-radius: 5px;
            margin: 10px 0;
        }
        .nested-nav a {
            color: #42b983;
            text-decoration: none;
            margin: 0 10px;
            padding: 5px 10px;
        }
        .nested-nav a.router-link-active {
            background: #42b983;
            color: white;
            border-radius: 3px;
        }
        .page-content {
            padding: 20px;
            border: 2px solid #ddd;
            border-radius: 5px;
            min-height: 200px;
            background: white;
            margin: 20px 0;
        }
        .nav-link {
            display: inline-block;
            margin: 10px 0;
            padding: 10px 20px;
            background: #e3f2fd;
            color: #1976d2;
            text-decoration: none;
            border-radius: 5px;
        }
        .nav-link:hover {
            background: #bbdefb;
        }
    </style>
</head>
<body>
    <div class="nav-link">
        <a href="index.html">‚Üê Back to Lesson 19</a>
    </div>

    <h1>üìñ Building a User Dashboard with Nested Routes</h1>
    <p style="background: #e3f2fd; padding: 15px; border-radius: 5px; margin: 20px 0;">
        <strong>Goal:</strong> Build a user dashboard with nested routes for profile, settings, and orders pages.
    </p>
    
    <div class="step">
        <h2>Step 1: Understanding Nested Routes</h2>
        <div class="explanation">
            <p><strong>Nested Routes</strong> allow you to have routes within routes, creating a hierarchy.</p>
            <p><strong>Example:</strong> A user dashboard with sub-pages:</p>
            <ul>
                <li>/user/profile</li>
                <li>/user/settings</li>
                <li>/user/orders</li>
            </ul>
            <p>Instead of creating separate routes, you nest them under a parent route <code>/user</code>.</p>
        </div>
    </div>

    <div class="step">
        <h2>Step 2: Create the Parent Layout Component (UserDashboard)</h2>
        <div class="explanation">
            <p>The parent component acts as a layout that contains:</p>
            <ul>
                <li>A heading "User Dashboard"</li>
                <li>Navigation links for child routes</li>
                <li>A <code>&lt;router-view&gt;</code> where child routes will be displayed</li>
            </ul>
        </div>
        
        <div class="code-block">const UserDashboard = {
    template: '<div>' +
        '<h2>üë§ User Dashboard</h2>' +
        '<div class="nested-nav">' +
            '<router-link to="/user/profile">Profile</router-link>' +
            '<router-link to="/user/settings">Settings</router-link>' +
            '<router-link to="/user/orders">Orders</router-link>' +
        '</div>' +
        '<div style="margin-top: 20px; padding: 15px; border: 1px solid #ddd; border-radius: 5px;">' +
            '<router-view></router-view>' +
        '</div>' +
    '</div>'
};</div>
        
        <div class="code-explanation">
            <strong>Code Explanation:</strong>
            <ul>
                <li><code>template: '...'</code> - Defines the HTML structure of the component</li>
                <li><code>&lt;h2&gt;üë§ User Dashboard&lt;/h2&gt;</code> - The main heading</li>
                <li><code>&lt;div class="nested-nav"&gt;</code> - Container for navigation links</li>
                <li><code>&lt;router-link to="/user/profile"&gt;</code> - Link to child route (full path)</li>
                <li><code>&lt;router-view&gt;&lt;/router-view&gt;</code> - <strong>CRITICAL:</strong> This is where child route components will be displayed</li>
            </ul>
        </div>
        
        <div class="warning">
            <strong>‚ö†Ô∏è Important:</strong> The parent component MUST include <code>&lt;router-view&gt;&lt;/router-view&gt;</code> for child routes to render! Without it, child routes won't display.
        </div>
    </div>

    <div class="step">
        <h2>Step 3: Create UserProfile Component (Child Route)</h2>
        <div class="explanation">
            <p>Create the first child component that will be displayed at <code>/user/profile</code>.</p>
        </div>
        
        <div class="code-block">const UserProfile = {
    template: '<div>' +
        '<h3>üìù Profile</h3>' +
        '<p>This is your profile page.</p>' +
        '<p>You can edit your personal information here.</p>' +
    '</div>'
};</div>
        
        <div class="code-explanation">
            <strong>Code Explanation:</strong>
            <ul>
                <li>This is a simple component that displays profile information</li>
                <li>It will be rendered inside the parent's <code>&lt;router-view&gt;</code></li>
                <li>The full URL will be <code>/user/profile</code></li>
            </ul>
        </div>
    </div>

    <div class="step">
        <h2>Step 4: Create UserSettings Component (Child Route)</h2>
        <div class="explanation">
            <p>Create the second child component for <code>/user/settings</code>.</p>
        </div>
        
        <div class="code-block">const UserSettings = {
    template: '<div>' +
        '<h3>‚öôÔ∏è Settings</h3>' +
        '<p>Manage your account settings here.</p>' +
        '<p>Update preferences, privacy options, and more.</p>' +
    '</div>'
};</div>
        
        <div class="code-explanation">
            <strong>Code Explanation:</strong>
            <ul>
                <li>Similar structure to UserProfile</li>
                <li>Will be displayed at <code>/user/settings</code></li>
                <li>Renders inside the parent's router-view</li>
            </ul>
        </div>
    </div>

    <div class="step">
        <h2>Step 5: Create UserOrders Component (Child Route)</h2>
        <div class="explanation">
            <p>Create the third child component for <code>/user/orders</code>.</p>
        </div>
        
        <div class="code-block">const UserOrders = {
    template: '<div>' +
        '<h3>üì¶ Orders</h3>' +
        '<p>View your order history here.</p>' +
        '<p>Track shipments and manage returns.</p>' +
    '</div>'
};</div>
        
        <div class="code-explanation">
            <strong>Code Explanation:</strong>
            <ul>
                <li>Displays order-related content</li>
                <li>Accessible at <code>/user/orders</code></li>
                <li>Part of the nested route structure</li>
            </ul>
        </div>
    </div>

    <div class="step">
        <h2>Step 6: Define Nested Routes</h2>
        <div class="explanation">
            <p>Use the <code>children</code> property to define nested routes. <strong>Key points:</strong></p>
            <ul>
                <li>Child paths are <strong>relative</strong> (no leading <code>/</code>)</li>
                <li>Full paths become: /user/profile, /user/settings, /user/orders</li>
                <li>Parent route path is <code>/user</code></li>
            </ul>
        </div>
        
        <div class="code-block">const routes = [
    {
        path: '/user',                    // Parent route path
        component: UserDashboard,         // Parent component
        children: [                       // Array of child routes
            { path: 'profile', component: UserProfile },   // No leading / = relative
            { path: 'settings', component: UserSettings },  // No leading / = relative
            { path: 'orders', component: UserOrders }      // No leading / = relative
        ]
    }
];</div>
        
        <div class="code-explanation">
            <strong>Code Explanation:</strong>
            <ul>
                <li><code>path: '/user'</code> - The parent route path</li>
                <li><code>component: UserDashboard</code> - The parent component that will render</li>
                <li><code>children: [...]</code> - Array containing all child routes</li>
                <li><code>path: 'profile'</code> - <strong>No leading /</strong> means it's relative to parent, becomes <code>/user/profile</code></li>
                <li><code>path: 'settings'</code> - Relative path, becomes <code>/user/settings</code></li>
                <li><code>path: 'orders'</code> - Relative path, becomes <code>/user/orders</code></li>
            </ul>
        </div>
        
        <div class="tip">
            <strong>üí° Why No Leading Slash?</strong> Child paths without <code>/</code> are relative to the parent. If you used <code>/profile</code>, it would be an absolute path and wouldn't nest properly!
        </div>
    </div>

    <div class="step">
        <h2>Step 7: Set Default Child Route</h2>
        <div class="explanation">
            <p>When someone visits <code>/user</code>, we want to show the profile by default. Use an empty path <code>''</code> for this.</p>
        </div>
        
        <div class="code-block">const routes = [
    {
        path: '/user',
        component: UserDashboard,
        children: [
            { path: '', component: UserProfile },        // Default - shows when visiting /user
            { path: 'profile', component: UserProfile },
            { path: 'settings', component: UserSettings },
            { path: 'orders', component: UserOrders }
        ]
    }
];</div>
        
        <div class="code-explanation">
            <strong>Code Explanation:</strong>
            <ul>
                <li><code>path: ''</code> - Empty path means "default child route"</li>
                <li>When visiting <code>/user</code>, it will show UserProfile</li>
                <li>Both <code>/user</code> and <code>/user/profile</code> will show the same component</li>
                <li>This route should be placed <strong>first</strong> in the children array</li>
            </ul>
        </div>
    </div>

    <div class="step">
        <h2>Step 8: Create Router and App</h2>
        <div class="explanation">
            <p>Set up the router and Vue app as usual.</p>
        </div>
        
        <div class="code-block">const { createApp } = Vue;
const { createRouter, createWebHashHistory } = VueRouter;

// Create router with nested routes
const router = createRouter({
    history: createWebHashHistory(),
    routes
});

// Create and mount app
const app = createApp({});
app.use(router);
app.mount('#app');</div>
        
        <div class="code-explanation">
            <strong>Code Explanation:</strong>
            <ul>
                <li><code>createWebHashHistory()</code> - Uses hash-based routing (works without server)</li>
                <li><code>routes</code> - The routes array we defined with nested routes</li>
                <li><code>app.use(router)</code> - Registers the router with Vue</li>
                <li><code>app.mount('#app')</code> - Mounts the app to the HTML element</li>
            </ul>
        </div>
    </div>

    <div class="step">
        <h2>Step 9: Add HTML Structure</h2>
        <div class="explanation">
            <p>In your HTML, add a navigation menu and router-view for the main app.</p>
        </div>
        
        <div class="code-block">&lt;div id="app"&gt;
    &lt;nav&gt;
        &lt;router-link to="/"&gt;Home&lt;/router-link&gt;
        &lt;router-link to="/user"&gt;User Dashboard&lt;/router-link&gt;
    &lt;/nav&gt;
    
    &lt;router-view&gt;&lt;/router-view&gt;
&lt;/div&gt;</div>
        
        <div class="code-explanation">
            <strong>Code Explanation:</strong>
            <ul>
                <li><code>&lt;nav&gt;</code> - Main navigation menu</li>
                <li><code>&lt;router-link to="/user"&gt;</code> - Link to the parent route</li>
                <li><code>&lt;router-view&gt;&lt;/router-view&gt;</code> - Displays the current route (UserDashboard when on /user)</li>
                <li>When UserDashboard renders, it has its own <code>&lt;router-view&gt;</code> for child routes</li>
            </ul>
        </div>
    </div>

    <div class="step">
        <h2>Step 10: Style the Nested Navigation</h2>
        <div class="explanation">
            <p>Add CSS to style the nested navigation links in the parent component.</p>
        </div>
        
        <div class="code-block">.nested-nav {
    background: #e8f5e9;
    padding: 10px;
    border-radius: 5px;
    margin: 10px 0;
}

.nested-nav a {
    color: #42b983;
    text-decoration: none;
    margin: 0 10px;
    padding: 5px 10px;
}

.nested-nav a.router-link-active {
    background: #42b983;
    color: white;
    border-radius: 3px;
}</div>
        
        <div class="code-explanation">
            <strong>Code Explanation:</strong>
            <ul>
                <li><code>.nested-nav</code> - Styles the navigation container</li>
                <li><code>.nested-nav a</code> - Styles all navigation links</li>
                <li><code>.nested-nav a.router-link-active</code> - Styles the active link (Vue Router adds this class automatically)</li>
                <li>Active link gets different background color to show current page</li>
            </ul>
        </div>
    </div>

    <div class="step">
        <h2>Step 11: Live Demo - Complete User Dashboard</h2>
        <div class="demo-app">
            <h3>Try It Out!</h3>
            <p>Navigate to User Dashboard and click the nested navigation links!</p>
            <div id="demo">
                <nav>
                    <router-link to="/">Home</router-link>
                    <router-link to="/user">User Dashboard</router-link>
                </nav>
                
                <div class="page-content">
                    <router-view></router-view>
                </div>
            </div>
        </div>
    </div>

    <div class="step">
        <h2>Step 12: Bonus - Multiple Levels of Nesting</h2>
        <div class="explanation">
            <p>You can nest routes multiple levels deep. For example, add order details under orders.</p>
        </div>
        
        <div class="code-block">// Create OrderDetail component
const OrderDetail = {
    template: '<div>' +
        '<h4>Order #{{ $route.params.orderId }}</h4>' +
        '<p>Order details for order ID: {{ $route.params.orderId }}</p>' +
        '<router-link to="/user/orders">‚Üê Back to Orders</router-link>' +
    '</div>'
};

// Add nested route under orders
const routes = [
    {
        path: '/user',
        component: UserDashboard,
        children: [
            { path: '', component: UserProfile },
            { path: 'profile', component: UserProfile },
            { path: 'settings', component: UserSettings },
            {
                path: 'orders',
                component: UserOrders,
                children: [                                    // Nested under orders!
                    { path: ':orderId', component: OrderDetail }  // /user/orders/123
                ]
            }
        ]
    }
];</div>
        
        <div class="code-explanation">
            <strong>Code Explanation:</strong>
            <ul>
                <li><code>OrderDetail</code> - Component that displays order details</li>
                <li><code>$route.params.orderId</code> - Accesses the orderId parameter from URL</li>
                <li><code>children: [...]</code> - Orders route now has its own children!</li>
                <li><code>path: ':orderId'</code> - Dynamic parameter, matches any order ID</li>
                <li>Full path becomes: <code>/user/orders/123</code> (where 123 is the orderId)</li>
                <li><strong>Important:</strong> UserOrders component must also have <code>&lt;router-view&gt;</code> to display OrderDetail!</li>
            </ul>
        </div>
        
        <div class="code-block">// Update UserOrders to include router-view
const UserOrders = {
    template: '<div>' +
        '<h3>üì¶ Orders</h3>' +
        '<p>View your order history here.</p>' +
        '<router-link to="/user/orders/1">Order #1</router-link>' +
        '<router-link to="/user/orders/2">Order #2</router-link>' +
        '<router-view></router-view>' +  // For OrderDetail to display
    '</div>'
};</div>
    </div>

    <div class="step">
        <h2>Step 13: Complete Code Structure</h2>
        <div class="explanation">
            <p>Here's the complete structure of your nested routes application:</p>
        </div>
        
        <div class="code-block">// 1. Include scripts
&lt;script src="https://unpkg.com/vue@3/dist/vue.global.js"&gt;&lt;/script&gt;
&lt;script src="https://unpkg.com/vue-router@4/dist/vue-router.global.js"&gt;&lt;/script&gt;

// 2. Create parent component (with router-view)
const UserDashboard = {
    template: '<div>' +
        '<h2>üë§ User Dashboard</h2>' +
        '<div class="nested-nav">' +
            '<router-link to="/user/profile">Profile</router-link>' +
            '<router-link to="/user/settings">Settings</router-link>' +
            '<router-link to="/user/orders">Orders</router-link>' +
        '</div>' +
        '<router-view></router-view>' +  // Child routes display here
    '</div>'
};

// 3. Create child components
const UserProfile = { template: '...' };
const UserSettings = { template: '...' };
const UserOrders = { template: '...' };

// 4. Define nested routes
const routes = [
    {
        path: '/user',
        component: UserDashboard,
        children: [
            { path: '', component: UserProfile },      // Default
            { path: 'profile', component: UserProfile },
            { path: 'settings', component: UserSettings },
            { path: 'orders', component: UserOrders }
        ]
    }
];

// 5. Create router and app
const router = createRouter({
    history: createWebHashHistory(),
    routes
});

const app = createApp({});
app.use(router);
app.mount('#app');</div>
    </div>

    <div class="step">
        <h2>üéì Key Concepts You Learned</h2>
        <div class="explanation">
            <ol>
                <li><strong>Nested Routes:</strong> Routes within routes for hierarchical navigation</li>
                <li><strong>Parent Component:</strong> Layout component that contains child routes</li>
                <li><strong>Children Array:</strong> Define nested routes using <code>children</code> property</li>
                <li><strong>Relative Paths:</strong> Child paths don't start with <code>/</code> (they're relative to parent)</li>
                <li><strong>router-view:</strong> Must be in parent to render child routes</li>
                <li><strong>Default Child:</strong> Use empty path <code>''</code> for default child route</li>
                <li><strong>Multiple Levels:</strong> You can nest routes multiple levels deep</li>
            </ol>
        </div>
    </div>

    <script src="https://unpkg.com/vue@3/dist/vue.global.js"></script>
    <script src="https://unpkg.com/vue-router@4/dist/vue-router.global.js"></script>
    <script>
        const { createApp } = Vue;
        const { createRouter, createWebHashHistory } = VueRouter;
        
        const UserDashboard = {
            template: '<div>' +
                '<h2>üë§ User Dashboard</h2>' +
                '<div class="nested-nav">' +
                    '<router-link to="/user/profile">Profile</router-link>' +
                    '<router-link to="/user/settings">Settings</router-link>' +
                    '<router-link to="/user/orders">Orders</router-link>' +
                '</div>' +
                '<div style="margin-top: 20px; padding: 15px; border: 1px solid #ddd; border-radius: 5px;">' +
                    '<router-view></router-view>' +
                '</div>' +
            '</div>'
        };
        
        const UserProfile = {
            template: '<div><h3>üìù Profile</h3><p>This is your profile page. You can edit your personal information here.</p></div>'
        };
        
        const UserSettings = {
            template: '<div><h3>‚öôÔ∏è Settings</h3><p>Manage your account settings, preferences, and privacy options.</p></div>'
        };
        
        const UserOrders = {
            template: '<div><h3>üì¶ Orders</h3><p>View your order history and track shipments.</p></div>'
        };
        
        const routes = [
            { path: '/', component: { template: '<div><h2>üè† Home</h2><p>Navigate to User Dashboard to see nested routes!</p></div>' } },
            {
                path: '/user',
                component: UserDashboard,
                children: [
                    { path: '', component: UserProfile },
                    { path: 'profile', component: UserProfile },
                    { path: 'settings', component: UserSettings },
                    { path: 'orders', component: UserOrders }
                ]
            }
        ];
        
        const router = createRouter({
            history: createWebHashHistory(),
            routes
        });
        
        const app = createApp({});
        app.use(router);
        app.mount('#demo');
    </script>
</body>
</html>
